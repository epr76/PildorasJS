<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">

       
        //Una propiedad de un objeto puede ser tambien un objeto.
        let p1 = {nombre:"Juan", edad:18};

        let coche = {color:"rojo", potencia:400 , propietario:p1,toString:function(){return "El color del coche es : " + `${this.color}` + " y tiene " + `${this.potencia}` + " caballos";}};
        //el metodo toString se compone por una funcion abstracta que no se bien bien que hace.


        //aqui vemos como p1 se puede incluir en el objeto coche.

        coche["pasajeros"] = 5;

        let furgoneta = {carga:4500};
        //declaramos el objeto furgoneta con la propiedad solo de carga

        for(let clave of Object.keys(coche)){
        // Con este bucle for conseguimos recorrer todas las claves de coche y almacenarlas en 
        //la variable clave, asignandolas a furgoneta , NO TERMINO DE ENTENDERLO BIEN 
            furgoneta[clave] = coche[clave];
        }

        // Este mismo codigo lo podemos hacer con el metodo assign , que es mas facil.
        //Tenemos que introducir el objeto de destino en el primer parametro y el segundo el destino
        Object.assign(furgoneta,coche);
      
        console.log(furgoneta);

        // para serializar un objeto utilizamos el metodo JSON.stringify        
        let cocheSerializado = JSON.stringify(coche);

        document.write(cocheSerializado);

        //Para serializar un string utilizamos el metodo JSON.parse
        let cocheDeserializarlo = JSON.parse(cocheSerializado);

        console.log(cocheDeserializarlo);

        document.write(coche.toString());//importante poner los parentesis.
        



       

   

    </script>
</body>
</html>